<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Application Form</title>
<script src="/_sdk/element_sdk.js"></script>
<script src="/_sdk/data_sdk.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Sofia&display=swap');


h1, h2, h3, h4, h5, h6 {
font-family: 'Sofia', cursive !important;
}


body {
box-sizing: border-box;
}


/* Page + layout */
.page {
min-height: 100%;
color: #111827;
}


.quiz-container {
max-width: 960px;
margin: 0 auto;
padding: 2.5rem 1.5rem 3rem;
font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}


/* Header */
.header {
text-align: center;
margin-bottom: 2.5rem;
}


.title {
font-size: 2rem;
margin-bottom: 0.75rem;
font-weight: 400;
font-family: 'Sofia', cursive;
}


.subtitle {
max-width: 720px;
margin: 0.25rem auto;
font-size: 1rem;
color: #3f3f46;
font-style: italic;
}


.subtitle-line {
display: block;
margin-bottom: 0.25rem;
}


/* Cards */
.card {
background: #ffffff;
border: 1px solid #e0cda9;
border-radius: 4px;
padding: 1.75rem 1.5rem;
box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08);
margin-bottom: 1.5rem;
}


.section-title {
font-size: 1.35rem;
margin-bottom: 1.5rem;
font-weight: 500;
color: #8b5e3c;
border-bottom: 1px solid #e0cda9;
padding-bottom: 0.5rem;
}


.question-block {
margin-bottom: 1.75rem;
}


.question-text {
font-size: 1rem;
margin-bottom: 0.75rem;
line-height: 1.4;
font-weight: 500;
}


.question-number {
color: #8b5e3c;
margin-right: 0.35rem;
}


/* Form inputs */
.form-input,
.form-textarea,
.form-select {
width: 100%;
padding: 0.75rem 0.9rem;
border: 1px solid #e0cda9;
border-radius: 4px;
background-color: #faf3ea;
font-size: 0.98rem;
font-family: inherit;
transition: background-color 0.15s ease, border-color 0.15s ease;
box-sizing: border-box;
}


.form-input:focus,
.form-textarea:focus,
.form-select:focus {
outline: none;
background-color: #f0e1cc;
border-color: #8b5e3c;
}


.form-textarea {
min-height: 120px;
resize: vertical;
}


.form-input-inline {
width: 100%;
padding: 0.5rem 0.7rem;
border: 1px solid #e0cda9;
border-radius: 4px;
background-color: #faf3ea;
font-size: 0.95rem;
font-family: inherit;
margin-top: 0.5rem;
box-sizing: border-box;
color: #111827;
}


/* Options (custom radios/checkboxes) */
.option-row {
display: flex;
align-items: center;
gap: 0.75rem;
border: 1px solid #e0cda9;
border-radius: 4px;
padding: 0.75rem 0.9rem;
margin-bottom: 0.5rem;
background-color: #faf3ea;
cursor: pointer;
transition: background-color 0.15s ease, border-color 0.15s ease, color 0.15s ease;
}


.option-row:hover {
background-color: #f0e1cc;
}


.option-selected {
background-color: #000000;
color: #f5efe7;
border-color: #000000;
}


/* Radio circle */
.radio {
width: 18px;
height: 18px;
border-radius: 999px;
border: 1px solid #6b7280;
display: flex;
align-items: center;
justify-content: center;
flex-shrink: 0;
}


.radio-selected {
border-color: #f5efe7;
}


.radio-dot {
width: 9px;
height: 9px;
border-radius: 999px;
background-color: #f5efe7;
display: none;
}


/* Checkbox */
.checkbox {
width: 18px;
height: 18px;
border-radius: 3px;
border: 1px solid #6b7280;
display: flex;
align-items: center;
justify-content: center;
flex-shrink: 0;
}


.checkbox-selected {
border-color: #f5efe7;
background-color: #f5efe7;
}


.checkbox-mark {
color: #000000;
font-weight: bold;
font-size: 0.85rem;
display: none;
}


.option-text {
font-size: 0.98rem;
font-weight: 300;
}


/* Buttons */
.button-row {
text-align: center;
margin-top: 1.75rem;
}


.primary-button {
font-size: 1rem;
padding: 0.85rem 2.5rem;
border-radius: 4px;
border: 1px solid #000000;
cursor: pointer;
transition: background-color 0.15s ease, color 0.15s ease;
background-color: #000000;
color: #f5efe7;
}


.primary-button:hover:not(:disabled) {
background-color: #1f2933;
}


.primary-button:disabled {
opacity: 0.5;
cursor: not-allowed;
}


/* Success message */
.success-message {
margin-top: 1rem;
text-align: center;
padding: 1rem;
background-color: #f0e1cc;
border: 1px solid #e0cda9;
border-radius: 4px;
}


.success-title {
font-size: 1.25rem;
margin-bottom: 0.5rem;
font-weight: 500;
}


.success-text {
font-size: 1rem;
color: #3f3f46;
}


/* Misc */
body {
margin: 0;
font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
background-color: #f7efe6;
}


.app-root {
min-height: 100%;
display: flex;
justify-content: center;
align-items: flex-start;
padding: 2rem 1rem;
width: 100%;
}


.required {
color: #8b5e3c;
}


.error-text {
color: #8b5e3c;
font-size: 0.85rem;
margin-top: 0.25rem;
}


.inline-radio-group {
display: flex;
gap: 1.5rem;
margin-bottom: 0.75rem;
flex-wrap: wrap;
}


.inline-radio-option {
display: flex;
align-items: center;
gap: 0.5rem;
cursor: pointer;
padding: 0.5rem 0.75rem;
border: 1px solid #e0cda9;
border-radius: 4px;
background-color: #faf3ea;
transition: background-color 0.15s ease;
}


.inline-radio-option:hover {
background-color: #f0e1cc;
}


.inline-radio-selected {
background-color: #000000;
color: #f5efe7;
border-color: #000000;
}


/* Page navigation */
.page-section {
display: none;
}


.page-section.active {
display: block;
}


.nav-buttons {
display: flex;
justify-content: space-between;
gap: 1rem;
margin-top: 2rem;
padding-top: 1.5rem;
border-top: 1px solid #e0cda9;
}


.nav-button {
font-size: 1rem;
padding: 0.75rem 2rem;
border-radius: 4px;
border: 1px solid #8b5e3c;
cursor: pointer;
transition: background-color 0.15s ease, color 0.15s ease;
background-color: transparent;
color: #8b5e3c;
}


.nav-button:hover:not(:disabled) {
background-color: #8b5e3c;
color: #f5efe7;
}


.nav-button:disabled {
opacity: 0.3;
cursor: not-allowed;
}


.nav-button.invisible {
visibility: hidden;
}


.progress-indicator {
text-align: center;
margin-bottom: 2rem;
font-size: 1.5rem;
color: #8b5e3c;
font-weight: 400;
padding-bottom: 1rem;
border-bottom: 1px solid #e0cda9;
font-family: 'Sofia', cursive;
}


.profile-section {
margin-bottom: 3rem;
padding-bottom: 2rem;
border-bottom: 1px solid #e0cda9;
}


.profile-section:last-child {
border-bottom: none;
}
</style>
<style>@view-transition { navigation: auto; }</style>
<script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
</head>
<body>
  <script>
document.addEventListener("DOMContentLoaded", () => {
  const forms = document.getElementsByTagName("form");
  if (forms.length > 0) {
    forms[0].addEventListener("submit", (event) => event.preventDefault());
  }
});
</script>
<div class="app-root">
<div class="page">
<div class="quiz-container">
<div style="text-align: center; margin-bottom: 2rem;">
<img src="https://i.postimg.cc/14f11F7z/3.png" alt="Header Image" style="max-width: 100%; height: auto; display: block; margin: 0 auto;" onerror="this.style.display='none'; this.alt='Image failed to load';">
</div>
<div class="header">
<h1 class="title" id="form-title">Hypnotherapy Application</h1>
<div class="subtitle" id="form-subtitle">
<span class="subtitle-line">Let's make sure we are aligned.</span>
<span class="subtitle-line">If for any reason we aren't able to work together, I can refer you to other great hypnotherapists.</span>
</div>


<!-- Profiles view -->
<div id="profiles-view" style="display: none;">
<div class="card">
<h2 style="font-size: 1.75rem; margin-bottom: 2rem; font-weight: 500; color: #8b5e3c; text-align: center;">The Three Contradictions Profiles</h2>
<div id="all-profiles-container"></div>
<div class="button-row" style="margin-top: 2rem;">
<button type="button" class="nav-button" id="back-to-form-btn">Back to Application</button>
</div>
</div>
</div>


<!-- Form container -->
<div id="form-container">
<div class="progress-indicator" id="progress-indicator">
  Page 1 of 6
</div>

<div id="form-pages">
<!-- Page 1: Framework & Approach -->
<div class="page-section active" id="page-1">
<div class="card">
<h3 style="font-size: 1.35rem; margin-bottom: 1.5rem; font-weight: 500; color: #8b5e3c;">üúÇ My Framework and Approach</h3>
<div style="line-height: 1.7; margin-bottom: 2rem; color: #3f3f46;">
<p style="margin-bottom: 1rem;">When entering deep inner work, it's important to understand the beliefs and education that guide your hypnotherapist.</p>
<p style="margin-bottom: 1rem;">I received my foundational training through the Hypnosis Motivation Institute (HMI) and have since integrated that education into my own metaphysical framework, which strongly informs my practice.</p>
<p style="margin-bottom: 1rem;">I operate from the understanding that each individual Self is composed of <strong>Consciousness</strong>, <strong>Subconscious</strong>, and <strong>Manifestation</strong> ‚Äî all expressions of <strong>I Am</strong>, the pure creative awareness that gives rise to your reality.</p>
<p style="margin-bottom: 1rem;">We access I Am through the divine inspiration of <strong>The Breath</strong>.</p>
<p style="margin-bottom: 1rem;">Together, these five aspects form what I call <strong>The Five-Fold Self</strong>.</p>
<p style="margin-bottom: 1rem;">Each Self moves through its own states of mind, patterns of behavior, and movements of expression. Exploring and harmonizing these movements is the essence of this work.</p>
<p style="margin-bottom: 1rem;"><em>This is an existential framework ‚Äî a lens through which to experience healing and self-realization.</em></p>
<p style="margin-bottom: 0;">I am accepting of all spiritual and religious backgrounds and offer a neutral space for anyone seeking growth in the metaphysical and existential realms of human experience.</p>
</div>


<div class="question-block">
<label class="question-text">
I understand that this approach includes metaphysical and symbolic language as part of the healing process, and that I am comfortable with this perspective.
<span class="required">*</span>
</label>
<div id="framework-understanding-options"></div>
</div>


<div class="nav-buttons">
<button type="button" class="nav-button invisible" id="prev-1">Previous</button>
<button type="button" class="nav-button" id="next-1">Next</button>
</div>
</div>
</div>


<!-- Page 2: Quiz Part 1 -->
<div class="page-section" id="page-2">
<div class="card">
<div style="line-height: 1.7; margin-bottom: 2rem; padding: 1.25rem; background-color: #faf3ea; border-left: 3px solid #8b5e3c; border-radius: 4px;">
<h3 style="font-size: 1.25rem; font-weight: 500; margin: 0 0 0.75rem 0; color: #8b5e3c;">The Flight Direction Quiz</h3>
<p style="font-style: italic; margin: 0 0 0.75rem 0; color: #3f3f46;">What is your flight direction?</p>
<p style="margin: 0 0 0.75rem 0; color: #3f3f46;">When life challenges what we believe and assume, it tends to do so in familiar patterns.</p>
<p>When you submit this application, you‚Äôll be guided toward the direction you‚Äôre meant to fly next ü™Ω‚ú®</p>
<p style="margin: 0; color: #3f3f46;"><strong>Instructions:</strong> For each statement, select the one that feels most true for you right now. There are no wrong answers ‚Äî each describes a pattern of energy within the Self.</p>
</div>


<div class="question-block">
<label class="question-text">When something goes wrong <span class="required">*</span></label>
<div id="quiz-q1"></div>
</div>
<div class="question-block">
<label class="question-text">When someone is upset with me <span class="required">*</span></label>
<div id="quiz-q2"></div>
</div>
<div class="question-block">
<label class="question-text">When I feel nervous or off balance <span class="required">*</span></label>
<div id="quiz-q3"></div>
</div>
<div class="question-block">
<label class="question-text">When I make a mistake <span class="required">*</span></label>
<div id="quiz-q4"></div>
</div>
<div class="question-block">
<label class="question-text">When someone lets me down <span class="required">*</span></label>
<div id="quiz-q5"></div>
</div>
<div class="question-block">
<label class="question-text">When life slows down <span class="required">*</span></label>
<div id="quiz-q6"></div>
</div>
</div>


<div class="nav-buttons">
<button type="button" class="nav-button" id="prev-2">Previous</button>
<button type="button" class="nav-button" id="next-2">Next</button>
</div>
</div>


<!-- Page 3: Quiz Part 2 -->
<div class="page-section" id="page-3">
<div class="card">
<div style="line-height: 1.7; margin-bottom: 2rem; padding: 1.25rem; background-color: #faf3ea; border-left: 3px solid #8b5e3c; border-radius: 4px;">
<h3 style="font-size: 1.25rem; font-weight: 500; margin: 0 0 0.75rem 0; color: #8b5e3c;">The Flight Direction Quiz</h3>
<p style="font-style: italic; margin: 0 0 0.75rem 0; color: #3f3f46;">What is your flight direction?</p>
<p style="margin: 0 0 0.75rem 0; color: #3f3f46;">When life challenges what we believe and assume, it tends to do so in familiar patterns.</p>
<p>When you submit this application, you‚Äôll be guided toward the direction you‚Äôre meant to fly next ü™Ω‚ú®</p>
<p style="margin: 0; color: #3f3f46;"><strong>Instructions:</strong> For each statement, select the one that feels most true for you right now. There are no wrong answers ‚Äî each describes a pattern of energy within the Self.</p>
</div>


<div class="question-block">
<label class="question-text">When people don't understand me <span class="required">*</span></label>
<div id="quiz-q7"></div>
</div>
<div class="question-block">
<label class="question-text">When there is conflict <span class="required">*</span></label>
<div id="quiz-q8"></div>
</div>
<div class="question-block">
<label class="question-text">When I succeed at something <span class="required">*</span></label>
<div id="quiz-q9"></div>
</div>
<div class="question-block">
<label class="question-text">When change is coming <span class="required">*</span></label>
<div id="quiz-q10"></div>
</div>
<div class="question-block">
<label class="question-text">My thoughts when I'm stressed <span class="required">*</span></label>
<div id="quiz-q11"></div>
</div>
<div class="question-block">
<label class="question-text">Deep down, when things are hard <span class="required">*</span></label>
<div id="quiz-q12"></div>
</div>
</div>


<div class="nav-buttons">
<button type="button" class="nav-button" id="prev-3">Previous</button>
<button type="button" class="nav-button" id="next-3">Next</button>
</div>
</div>


<!-- Page 4: Support Questions -->
<div class="page-section" id="page-4">
<div class="card">
<div style="line-height: 1.6; margin-bottom: 2rem; padding: 1rem; background-color: #faf3ea; border-left: 3px solid #8b5e3c; border-radius: 4px;">
<p style="font-weight: 500; margin-bottom: 0.5rem; color: #8b5e3c;">What do you need support with?</p>
<p style="margin: 0; color: #3f3f46;">These questions help me to see if your goals for hypnotherapy are aligned with the particular clients I serve.</p>
</div>


<div class="question-block">
<label class="question-text">What are you seeking support for? <span class="required">*</span></label>
<div id="support-seeking-options"></div>
</div>


<div class="question-block">
<label class="question-text">Do you have memories from before this? <span class="required">*</span></label>
<div class="inline-radio-group" id="memories-before-options"></div>
<div id="memories-explanation-block" style="display: none; margin-top: 0.75rem;">
<textarea id="memories-explanation" class="form-textarea" placeholder="Please explain..."></textarea>
</div>
</div>


<div class="question-block">
<label class="question-text">Do you have a trusted person to confide in? Who are they and how would they describe you? <span class="required">*</span></label>
<div class="inline-radio-group" id="trusted-person-options"></div>
<div id="trusted-person-details-block" style="display: none; margin-top: 0.75rem;">
<input type="text" id="trusted-person" class="form-input" placeholder="Who is your trusted person?">
<textarea id="trusted-person-description" class="form-textarea" placeholder="How would they describe you?" style="margin-top: 0.75rem;"></textarea>
</div>
</div>


<div class="question-block">
<label class="question-text">What are your boundaries like? (Check all that apply) <span class="required">*</span></label>
<div id="boundaries-options"></div>
</div>


<div class="question-block">
<label class="question-text">When you imagine yourself free and healed ‚Äî what is that version of you like? Describe your boundaries. <span class="required">*</span></label>
<textarea id="healed-self-vision" class="form-textarea" placeholder="Describe the healed version of yourself and your boundaries..." required></textarea>
</div>

<!-- MOVED from Page 5: now the 6th question on Page 4 -->
<div class="question-block">
<label class="question-text">What have you been focused on?<span class="required">*</span></label>
<div id="fault-beliefs-options"></div>
</div>

</div>


<div class="nav-buttons">
<button type="button" class="nav-button" id="prev-4">Previous</button>
<button type="button" class="nav-button" id="next-4">Next</button>
</div>
</div>


<!-- Page 5: Deeper Questions + Investment -->
<div class="page-section" id="page-5">
<div class="card">

<div style="line-height: 1.6; margin-bottom: 2rem; padding: 1rem; background-color: #faf3ea; border-left: 3px solid #8b5e3c; border-radius: 4px;">
<p style="font-weight: 500; margin: 0; color: #8b5e3c;">Investment in Your Transformation ‚Äî time, affordability and communication.</p>
</div>

<div class="question-block">
<label class="question-text">If we work together, do you agree to be in a private, indoor space for 90-minute virtual sessions? <span class="required">*</span></label>
<div class="inline-radio-group" id="private-space-options"></div>
</div>


<div class="question-block">
<label class="question-text">Personal growth sometimes asks us to look at uncomfortable truths. How willing are you to explore your patterns honestly? <span class="required">*</span></label>
<div id="willingness-options"></div>
</div>


<div class="question-block">
<label class="question-text">Outside of weekly 60 to 90 minute sessions, how much time are you ready to dedicate?<span class="required">*</span></label>
<div id="readiness-options"></div>
</div>

<!-- NEW Question 1 -->
<div class="question-block">
<label class="question-text">
I work with clients who make 6-week and 12-week commitments. <span class="required">*</span>
</label>
<div id="commitment-options"></div>
</div>

<!-- NEW Question 2 -->
<div class="question-block">
<label class="question-text">
I would like to address money‚Ä¶ <span class="required">*</span>
</label>
<div id="money-communication-options"></div>
</div>

<!-- NEW Question 3 -->
<div class="question-block">
<label class="question-text">
Affordability <span class="required">*</span>
</label>
<div id="affordability-options"></div>
</div>

</div>


<div class="nav-buttons">
<button type="button" class="nav-button" id="prev-5">Previous</button>
<button type="button" class="nav-button" id="next-5">Next</button>
</div>
</div>


<!-- Page 6: Practical Demographics -->
<div class="page-section" id="page-6">
<div class="card">
<div class="question-block">
<label class="question-text">Were you referred to me? <span class="required">*</span></label>
<div class="inline-radio-group" id="referred-options"></div>
</div>


<div class="question-block" id="referrer-block" style="display: none;">
<label class="question-text">If yes ‚Äî who? <span class="required">*</span></label>
<input type="text" id="referrer-name" class="form-input" placeholder="Name of person who referred you">
</div>


<div class="question-block">
<label class="question-text">Phone number <span class="required">*</span></label>
<input type="tel" id="phone" class="form-input" placeholder="+1 (555) 123-4567" required>
</div>


<div class="question-block">
<label class="question-text">First name <span class="required">*</span></label>
<input type="text" id="first-name" class="form-input" placeholder="First name" required>
</div>


<div class="question-block">
<label class="question-text">Last name <span class="required">*</span></label>
<input type="text" id="last-name" class="form-input" placeholder="Last name" required>
</div>


<div class="question-block">
<label class="question-text">Birthdate <span class="required">*</span></label>
<input type="date" id="birthdate" class="form-input" required>
</div>


<div class="question-block">
<label class="question-text">How would you like me to address you? <span class="required">*</span></label>
<div id="pronouns-options"></div>
</div>


<div class="question-block">
<label class="question-text">Your zip code <span class="required">*</span></label>
<input type="text" id="zip-code" class="form-input" placeholder="12345" required>
</div>


<div class="question-block">
<label class="question-text">Email Address <span class="required">*</span></label>
<input type="email" id="email" class="form-input" placeholder="your.email@example.com" required>
</div>
</div>


<div class="nav-buttons">
<button type="button" class="nav-button" id="prev-6">Previous</button>
<button type="button" class="primary-button" id="submit-btn" style="border: 1px solid #000000;">
<span id="submit-button-text">Submit Application</span>
</button>
</div>
</div>
</div>


<!-- Success + Result -->
<div id="success-container" style="display: none;">
<div class="card success-message">
<div class="success-title">Application Submitted!</div>
<p class="success-text">Thank you for your application. I'll review it carefully and get back to you soon.</p>
</div>


<div class="card" id="quiz-result-card" style="margin-top: 2rem; text-align: left;">
<div style="text-align: center; font-size: 1.75rem; margin-bottom: 1.5rem;" id="result-title"></div>


<div style="margin-bottom: 2rem;">
<div style="font-size: 1.1rem; font-weight: 500; margin-bottom: 0.75rem; color: #8b5e3c;">üå¨ Core Movement</div>
<div style="line-height: 1.7; color: #3f3f46;" id="result-core-movement"></div>
</div>


<div style="margin-bottom: 2rem;">
<div style="font-size: 1.1rem; font-weight: 500; margin-bottom: 0.75rem; color: #8b5e3c;">üïäÔ∏è Aligned Practices</div>
<div style="line-height: 1.7; color: #3f3f46;" id="result-practices"></div>
</div>


<div style="margin-bottom: 2rem;">
<div style="font-size: 1.1rem; font-weight: 500; margin-bottom: 0.75rem; color: #8b5e3c;">üíõ Aspirational Posture</div>
<div style="line-height: 1.7; color: #3f3f46;" id="result-posture"></div>
</div>


<div>
<div style="font-size: 1.1rem; font-weight: 500; margin-bottom: 0.75rem; color: #8b5e3c;">üî• Momentum Mantra</div>
<div style="line-height: 1.7; color: #3f3f46; font-style: italic;" id="result-mantra"></div>
</div>


<div class="button-row" style="margin-top: 2.5rem;">
<button class="primary-button" id="reset-btn">Submit Another Application</button>
</div>
</div>
</div>
</div>
</div>
</div>
</div>


<script>
const defaultConfig = {
form_title: "Hypnotherapy Application",
form_subtitle: "Let's make sure we are aligned.\nIf for any reason we aren't able to work together, I can refer you to other great hypnotherapists.",
submit_button_text: "Submit Application",
background_color: "#f7efe6",
surface_color: "#ffffff",
text_color: "#111827",
primary_action_color: "#000000",
secondary_action_color: "#8b5e3c"
};


let currentRecordCount = 0;
let currentPage = 1;
const totalPages = 6;

const selections = {
  frameworkUnderstanding: null,
  supportSeeking: null,
  memoriesBefore: null,
  boundaries: new Set(),
  faultBeliefs: null,
  privateSpace: null,
  willingness: null,
  readiness: null,
  commitment: null,
  moneyCommunication: null,
  affordabilityPreference: null,
  referred: null,
  pronouns: null,
  trustedPerson: null
};

const quizAnswers = {
q1: null, q2: null, q3: null, q4: null, q5: null, q6: null,
q7: null, q8: null, q9: null, q10: null, q11: null, q12: null
};


const quizQuestions = [
{
id: 'q1',
text: 'When something goes wrong',
options: [
{ value: 'being', label: 'I think about it a lot and wonder what it means about me.' },
{ value: 'flowing', label: 'I hurry to fix it or make everyone feel better.' },
{ value: 'trusting', label: "I plan what to do next so it won't happen again." }
]
},
{
id: 'q2',
text: 'When someone is upset with me',
options: [
{ value: 'trusting', label: 'I explain what I meant and take charge to fix it.' },
{ value: 'being', label: 'I go over what I said and worry how it sounded.' },
{ value: 'flowing', label: 'I say sorry fast and try to make peace.' }
]
},
{
id: 'q3',
text: 'When I feel nervous or off balance',
options: [
{ value: 'flowing', label: 'I stay busy helping others.' },
{ value: 'trusting', label: 'I clean up or plan to feel in control again.' },
{ value: 'being', label: 'I think about every reason I might feel this way.' }
]
},
{
id: 'q4',
text: 'When I make a mistake',
options: [
{ value: 'being', label: 'I feel bad and think hard about why it happened.' },
{ value: 'flowing', label: 'I try even harder to make up for it.' },
{ value: 'trusting', label: "I set new rules so it won't happen again." }
]
},
{
id: 'q5',
text: 'When someone lets me down',
options: [
{ value: 'trusting', label: 'I make new rules or step back to stay safe.' },
{ value: 'being', label: 'I wonder why they did that.' },
{ value: 'flowing', label: 'I forgive them and do the extra work myself.' }
]
},
{
id: 'q6',
text: 'When life slows down',
options: [
{ value: 'flowing', label: 'I look for someone or something that still needs me.' },
{ value: 'trusting', label: 'I get restless and find something to do.' },
{ value: 'being', label: 'I start thinking deeply and lose track of time.' }
]
},
{
id: 'q7',
text: "When people don't understand me",
options: [
{ value: 'being', label: 'I wonder what I did wrong.' },
{ value: 'flowing', label: 'I explain myself again and again to make peace.' },
{ value: 'trusting', label: "I set things straight so it won't happen next time." }
]
},
{
id: 'q8',
text: 'When there is conflict',
options: [
{ value: 'trusting', label: 'I set clear limits to stop the fight.' },
{ value: 'being', label: "I try to understand everyone's side first." },
{ value: 'flowing', label: 'I make peace, even if it costs me.' }
]
},
{
id: 'q9',
text: 'When I succeed at something',
options: [
{ value: 'flowing', label: 'I think about how to use it to help others.' },
{ value: 'trusting', label: 'I make a new goal to keep going.' },
{ value: 'being', label: 'I ask myself what this says about me.' }
]
},
{
id: 'q10',
text: 'When change is coming',
options: [
{ value: 'being', label: 'I look for the lesson in it.' },
{ value: 'flowing', label: 'I go along and help others feel okay.' },
{ value: 'trusting', label: 'I plan ahead for what might happen.' }
]
},
{
id: 'q11',
text: "My thoughts when I'm stressed",
options: [
{ value: 'trusting', label: '"I need to take control right now."' },
{ value: 'being', label: '"Why am I like this? I should know better."' },
{ value: 'flowing', label: '"I can fix this if I keep trying."' }
]
},
{
id: 'q12',
text: 'Deep down, when things are hard',
options: [
{ value: 'flowing', label: 'I feel worried until everyone else is okay.' },
{ value: 'trusting', label: 'I feel tight and under pressure to hold things together.' },
{ value: 'being', label: "I feel sad or ashamed I can't fix it." }
]
}
];


const formData = {
frameworkUnderstanding: [
{ value: "comfortable", label: "Yes, I am comfortable with this approach" },
{ value: "open", label: "I'm open to exploring this perspective" },
{ value: "unsure", label: "I'm unsure but willing to learn more" }
],
supportSeeking: [
{ value: "damaging-experiences", label: "Damaging past experiences" },
{ value: "recovering-religion", label: "Recovering from religion" },
{ value: "other", label: "Other", hasInput: true }
],
memoriesBefore: [
{ value: "yes", label: "Yes" },
{ value: "no", label: "No" }
],
boundaries: [
{ value: "non-existent", label: "Non-existent" },
{ value: "weak", label: "Weak" },
{ value: "strong", label: "Strong" },
{ value: "healthy", label: "Healthy" },
{ value: "unhealthy", label: "Unhealthy" }
],
faultBeliefs: [
{ value: "my-fault", label: "...the cause of my pain." },
{ value: "someone-else-fault", label: "...what I can do to heal myself." }
],
privateSpace: [
{ value: "yes", label: "Yes" },
{ value: "no", label: "No" }
],
willingness: [
{ value: "willing", label: "I'm willing ‚Äî even if it's uncomfortable." },
{ value: "unsure", label: "I'm unsure, but I want to try." },
{ value: "stay-comfortable", label: "I prefer to stay comfortable right now." }
],
readiness: [
{ value: "small-time", label: "Up to 45 minutes a week." },
{ value: "steady-weekly", label: "Up to 90 minutes a week." },
{ value: "fully-ready", label: "Up to 2.5 hours a week." }
],
commitment: [
{ value: "commit-12-weeks", label: "I am ready to commit 12-weeks to my transformation." },
{ value: "commit-6-weeks", label: "I am ready to commit 6-weeks to my transformation." },
{ value: "not-yet", label: "Not yet, but I‚Äôd like to plan this for another time." }
],
moneyCommunication: [
{ value: "video", label: "Face-to-face virtually." },
{ value: "phone", label: "Voice call on the phone." },
{ value: "email", label: "Reading via email." }
],
affordabilityPreference: [
{ value: "full-price", label: "I would like to pay full price." },
{ value: "income-docs", label: "I would like to submit my income documents for pricing consideration." }
],
referred: [
{ value: "yes", label: "Yes" },
{ value: "no", label: "No" }
],
pronouns: [
{ value: "she-her", label: "She/Her" },
{ value: "he-him", label: "He/Him" },
{ value: "they", label: "They" }
],
trustedPerson: [
{ value: "yes", label: "Yes" },
{ value: "no", label: "No" }
]
};


const quizResultProfiles = {
"Being > Flowing": {
title: "üî• Your Flight Direction is toward Being and Flowing",
coreMovement: "Your flight direction is toward Being and Flowing. You grow by settling into who you are and letting that truth move into your life with ease. When your presence is honest and unforced, expression becomes lighter and more natural.",
practices: "‚Ä¢ Lean into choices that feel authentic in the moment.\n‚Ä¢ Invite simple expressions of your truth without overthinking.\n‚Ä¢ Choose small areas of your life to move with more ease.\n‚Ä¢ Let your presence be enough before you try to \"do\" anything.",
posture: "A steady, relaxed openness that allows clarity and ease to work together.",
mantra: "‚ÄúMy truth moves naturally when I let myself be.‚Äù"
},
"Being > Trusting": {
title: "üî• Your Flight Direction is toward Being & Trusting",
coreMovement: "Your flight direction is toward Being and Trusting. You strengthen your clarity first and then let trust take shape from that clarity. Support becomes easier to receive when you're rooted in who you are.",
practices: "‚Ä¢ Lean into moments that confirm your sense of self.\n‚Ä¢ Invite small experiences of safe connection.\n‚Ä¢ Choose trust at a pace that feels grounded and real.\n‚Ä¢ Let yourself rely on others one step at a time.",
posture: "Grounded openness that doesn't rush or force itself.",
mantra: "‚ÄúTrust grows naturally when I stand in my truth.‚Äù"
},
"Trusting > Being": {
title: "üî• Your Flight Direction is toward Trusting & Being",
coreMovement: "Your flight direction is toward Trusting and Being. You open yourself to experience, and that openness helps you understand who you're becoming. Your identity grows from the moments you allow in.",
practices: "‚Ä¢ Lean into curiosity about what feels true for you.\n‚Ä¢ Invite new experiences without pressure to commit.\n‚Ä¢ Choose reflection after exploration, not before it.\n‚Ä¢ Let identity form from honest lived moments.",
posture: "Gentle courage that welcomes new information about yourself.",
mantra: "‚ÄúI discover myself through what I let in.‚Äù"
},
"Trusting > Flowing": {
title: "üî• Your Flight Direction is toward Trusting & Flowing",
coreMovement: "Your flight direction is toward Trusting and Flowing. When you let yourself trust the moment, your energy softens and moves more freely. Ease shows up when you stop bracing and follow what feels aligned.",
practices: "‚Ä¢ Lean into your instinct when something feels right.\n‚Ä¢ Invite small moments of ease throughout your day.\n‚Ä¢ Choose expression without worrying about perfection.\n‚Ä¢ Let trust support the pace of your movement.",
posture: "Soft confidence that lets rhythm develop naturally.",
mantra: "‚ÄúEase finds me when I trust the moment I'm in.‚Äù"
},
"Flowing > Being": {
title: "üî• Your Flight Direction is toward Flowing & Being",
coreMovement: "Your flight direction is toward Flowing and Being. You sense your way forward and then let that rhythm help you understand yourself more clearly. Your identity settles naturally when you listen to what feels true.",
practices: "‚Ä¢ Lean into the movements and choices that feel alive for you.\n‚Ä¢ Invite stillness afterward to understand their meaning.\n‚Ä¢ Choose identity from experience, not expectation.\n‚Ä¢ Let your rhythm guide what becomes real for you.",
posture: "Attuned presence that listens inwardly.",
mantra: "‚ÄúMy rhythm reveals who I am.‚Äù"
},
"Flowing > Trusting": {
title: "üî• Your Flight Direction is toward Flowing & Trusting",
coreMovement: "Your flight direction is toward Flowing and Trusting. You follow the rhythm of your own movement, and trust grows once something feels aligned in your body. You open up at the pace that fits your aspirational rhythm.",
practices: "‚Ä¢ Lean into embodied decisions that feel steady.\n‚Ä¢ Invite support after you feel the internal yes.\n‚Ä¢ Choose connection that respects your natural pace.\n‚Ä¢ Let trust emerge from your felt sense, not pressure.",
posture: "Intuitive openness guided by bodily alignment.",
mantra: "‚ÄúI trust what aligns with my rhythm.‚Äù"
},
"Being = Flowing": {
title: "üî• Your Flight Direction is toward Being & Flowing",
coreMovement: "Your flight direction balances Being and Flowing. You move from authenticity and anchor your expression in truth. Identity and rhythm harmonize ‚Äî you don't separate who you are from how you move through the world.",
practices: "‚Ä¢ Lean into movements that feel alive and honest.\n‚Ä¢ Invite stillness when meaning wants to settle.\n‚Ä¢ Choose expression that reflects inner clarity.\n‚Ä¢ Let your rhythm confirm your reality.",
posture: "Embodied authenticity ‚Äî fluid and true.",
mantra: "‚ÄúMy movement and my truth are one.‚Äù"
},
"Being = Trusting": {
title: "üî• Your Flight Direction is toward Being & Trusting",
coreMovement: "Your flight direction balances Trusting and Being. You meet the world with an open heart while staying rooted in yourself. Openness does not cost identity ‚Äî identity does not close you. You receive and remain, equally.",
practices: "‚Ä¢ Lean into connection without needing to merge.\n‚Ä¢ Invite moments of reflection without retreating.\n‚Ä¢ Choose relationships that honor your truth and your tenderness.\n‚Ä¢ Let trust be steady and selfhood be soft.",
posture: "Open presence, grounded and clear.",
mantra: "‚ÄúI stay myself as I let life in.‚Äù"
},
"Trusting = Being": {
title: "üî• Your Flight Direction is toward Trusting & Being",
coreMovement: "Your flight direction balances Trusting and Being. You meet the world with an open heart while staying rooted in yourself. Openness does not cost identity ‚Äî identity does not close you. You receive and remain, equally.",
practices: "‚Ä¢ Lean into connection without needing to merge.\n‚Ä¢ Invite moments of reflection without retreating.\n‚Ä¢ Choose relationships that honor your truth and your tenderness.\n‚Ä¢ Let trust be steady and selfhood be soft.",
posture: "Open presence, grounded and clear.",
mantra: "‚ÄúI stay myself as I let life in.‚Äù"
},
"Trusting = Flowing": {
title: "üî• Your Flight Direction is toward Flowing & Trusting",
coreMovement: "Your flight direction balances Flowing and Trusting. Ease and openness rise together ‚Äî you soften into connection without forcing closeness or speed. You move with the moment and let trust travel beside you.",
practices: "‚Ä¢ Lean into gentle momentum rather than urgency.\n‚Ä¢ Invite connection at the pace your body enjoys.\n‚Ä¢ Choose expression that feels safe and alive.\n‚Ä¢ Let trust breathe with your rhythm.",
posture: "Soft fluidity anchored in receptivity.",
mantra: "‚ÄúTrust moves with me, not ahead of me.‚Äù"
},
"Flowing = Being": {
title: "üî• Your Flight Direction is toward Flowing & Being",
coreMovement: "Your flight direction balances Flowing and Being. You move from authenticity and anchor your expression in truth. Identity and rhythm harmonize ‚Äî you don't separate who you are from how you move through the world.",
practices: "‚Ä¢ Lean into movements that feel alive and honest.\n‚Ä¢ Invite stillness when meaning wants to settle.\n‚Ä¢ Choose expression that reflects inner clarity.\n‚Ä¢ Let your rhythm confirm your reality.",
posture: "Embodied authenticity ‚Äî fluid and true.",
mantra: "‚ÄúMy movement and my truth are one.‚Äù"
},
"Flowing = Trusting": {
title: "üî• Your Flight Direction is toward Flowing & Trusting",
coreMovement: "Your flight direction balances Flowing and Trusting. Ease and openness rise together ‚Äî you soften into connection without forcing closeness or speed. You move with the moment and let trust travel beside you.",
practices: "‚Ä¢ Lean into gentle momentum rather than urgency.\n‚Ä¢ Invite connection at the pace your body enjoys.\n‚Ä¢ Choose expression that feels safe and alive.\n‚Ä¢ Let trust breathe with your rhythm.",
posture: "Soft fluidity anchored in receptivity.",
mantra: "‚ÄúTrust moves with me, not ahead of me.‚Äù"
},
"Being = Flowing = Trusting": {
title: "üî• Your Flight Direction is toward Being & Flowing & Trusting",
coreMovement: "Your flight direction holds Being, Flowing, and Trusting as equals. You stand as yourself, move as yourself, and open as yourself ‚Äî not in sequence, but together. Identity, rhythm, and receptivity form one living field.",
practices: "‚Ä¢ Lean into choices that feel true, alive, and safe.\n‚Ä¢ Invite movement without losing presence.\n‚Ä¢ Choose trust without abandoning clarity.\n‚Ä¢ Let your whole self participate in every moment.",
posture: "Unified coherence ‚Äî whole, moving, open.",
mantra: "‚ÄúI am steady, I am flowing, I am receiving ‚Äî as one.‚Äù"
}
};


function goToPage(pageNum) {
const existingError = document.getElementById('validation-error-card');
if (existingError) existingError.remove();


for (let i = 1; i <= totalPages; i++) {
const page = document.getElementById(`page-${i}`);
if (page) page.classList.remove('active');
}
const targetPage = document.getElementById(`page-${pageNum}`);
if (targetPage) {
targetPage.classList.add('active');
currentPage = pageNum;
const progress = document.getElementById('progress-indicator');
if (progress) progress.textContent = `Page ${pageNum} of ${totalPages}`;
window.scrollTo({ top: 0, behavior: 'smooth' });
}
}


function showProfilesView() {
document.getElementById('form-container').style.display = 'none';
document.getElementById('profiles-view').style.display = 'block';
renderAllProfiles();
window.scrollTo({ top: 0, behavior: 'smooth' });
}


function hideProfilesView() {
document.getElementById('profiles-view').style.display = 'none';
document.getElementById('form-container').style.display = 'block';
window.scrollTo({ top: 0, behavior: 'smooth' });
}


function renderAllProfiles() {
const container = document.getElementById('all-profiles-container');
if (!container) return;


let html = '';
for (const [, profile] of Object.entries(quizResultProfiles)) {
html += `
<div class="profile-section">
<div style="text-align: center; font-size: 1.5rem; margin-bottom: 1.5rem; color: #8b5e3c;">${profile.title}</div>
<div style="margin-bottom: 1.5rem;">
<div style="font-size: 1.05rem; font-weight: 500; margin-bottom: 0.5rem; color: #8b5e3c;">üå¨ Core Movement</div>
<div style="line-height: 1.7; color: #3f3f46;">${profile.coreMovement}</div>
</div>
<div style="margin-bottom: 1.5rem;">
<div style="font-size: 1.05rem; font-weight: 500; margin-bottom: 0.5rem; color: #8b5e3c;">üïäÔ∏è Aligned Practices</div>
<div style="line-height: 1.7; color: #3f3f46;">
${profile.practices.split('\n').map(line => `<div style="margin-bottom: 0.35rem;">${line}</div>`).join('')}
</div>
</div>
<div style="margin-bottom: 1.5rem;">
<div style="font-size: 1.05rem; font-weight: 500; margin-bottom: 0.5rem; color: #8b5e3c;">üíõ Aspirational Posture</div>
<div style="line-height: 1.7; color: #3f3f46;">${profile.posture}</div>
</div>
<div>
<div style="font-size: 1.05rem; font-weight: 500; margin-bottom: 0.5rem; color: #8b5e3c;">üî• Momentum Mantra</div>
<div style="line-height: 1.7; color: #3f3f46; font-style: italic;">${profile.mantra}</div>
</div>
</div>
`;
}
container.innerHTML = html;
}


function renderQuizQuestion(containerId, question) {
const container = document.getElementById(containerId);
if (!container) return;
container.innerHTML = question.options.map(opt => `
<div class="option-row" data-question="${question.id}" data-value="${opt.value}">
<div class="radio"><div class="radio-dot"></div></div>
<span class="option-text">${opt.label}</span>
</div>
`).join('');
container.querySelectorAll('.option-row').forEach(row => {
row.addEventListener('click', (e) => handleQuizClick(e, question.id));
});
}


function handleQuizClick(e, questionId) {
const row = e.target.closest('.option-row');
if (!row) return;
const value = row.dataset.value;
const container = row.parentElement;
container.querySelectorAll('.option-row').forEach(r => {
r.classList.remove('option-selected');
r.querySelector('.radio').classList.remove('radio-selected');
r.querySelector('.radio-dot').style.display = 'none';
});
row.classList.add('option-selected');
row.querySelector('.radio').classList.add('radio-selected');
row.querySelector('.radio-dot').style.display = 'block';
quizAnswers[questionId] = value;
}


function calculateQuizResult() {
const scores = { being: 0, flowing: 0, trusting: 0 };
for (const key in quizAnswers) {
if (quizAnswers[key]) {
scores[quizAnswers[key]]++;
}
}
const entries = Object.entries(scores).sort((a, b) => b[1] - a[1]);
const [firstType, firstScore] = entries[0];
const [secondType, secondScore] = entries[1];
const [thirdType, thirdScore] = entries[2];
const cap = (s) => s.charAt(0).toUpperCase() + s.slice(1);


if (firstScore === secondScore && secondScore === thirdScore) {
return "Being = Flowing = Trusting";
}


if (firstScore === secondScore && firstScore > thirdScore) {
const pair = [firstType, secondType].sort();
return `${cap(pair[0])} = ${cap(pair[1])}`;
}


return `${cap(firstType)} > ${cap(secondType)}`;
}


function displayQuizResult(resultKey) {
const profile = quizResultProfiles[resultKey];
if (profile) {
document.getElementById('result-title').textContent = profile.title;
document.getElementById('result-core-movement').textContent = profile.coreMovement;
const practicesEl = document.getElementById('result-practices');
practicesEl.innerHTML = profile.practices.split('\n')
.map(line => `<div style="margin-bottom: 0.5rem;">${line}</div>`)
.join('');
document.getElementById('result-posture').textContent = profile.posture;
document.getElementById('result-mantra').textContent = profile.mantra;
} else {
document.getElementById('quiz-result-card').style.display = 'none';
}
}


function showSuccess(quizResult) {
document.getElementById('form-pages').style.display = 'none';
document.getElementById('success-container').style.display = 'block';
displayQuizResult(quizResult);
window.scrollTo({ top: 0, behavior: 'smooth' });
}


function renderRadioOptions(containerId, options, selectionKey) {
const container = document.getElementById(containerId);
if (!container) return;
container.innerHTML = options.map(opt => `
<div class="option-row" data-type="${selectionKey}" data-value="${opt.value}">
<div class="radio"><div class="radio-dot"></div></div>
<span class="option-text">${opt.label}</span>
${opt.hasInput ? '<input type="text" class="form-input-inline" id="support-other-input" placeholder="Please specify..." style="display: none;" />' : ''}
</div>
`).join('');
container.querySelectorAll('.option-row').forEach(row => {
row.addEventListener('click', (e) => handleRadioClick(e, selectionKey));
});
}


function renderInlineRadioOptions(containerId, options, selectionKey) {
const container = document.getElementById(containerId);
if (!container) return;
container.innerHTML = options.map(opt => `
<div class="inline-radio-option" data-type="${selectionKey}" data-value="${opt.value}">
<div class="radio"><div class="radio-dot"></div></div>
<span class="option-text">${opt.label}</span>
</div>
`).join('');
container.querySelectorAll('.inline-radio-option').forEach(row => {
row.addEventListener('click', (e) => handleInlineRadioClick(e, selectionKey));
});
}


function renderCheckboxOptions(containerId, options, selectionKey) {
const container = document.getElementById(containerId);
if (!container) return;
container.innerHTML = options.map(opt => `
<div class="option-row" data-type="${selectionKey}" data-value="${opt.value}">
<div class="checkbox"><span class="checkbox-mark">‚úì</span></div>
<span class="option-text">${opt.label}</span>
</div>
`).join('');
container.querySelectorAll('.option-row').forEach(row => {
row.addEventListener('click', (e) => handleCheckboxClick(e, selectionKey));
});
}


function handleRadioClick(e, selectionKey) {
const row = e.target.closest('.option-row');
if (!row) return;
const value = row.dataset.value;
const container = row.parentElement;


container.querySelectorAll('.option-row').forEach(r => {
r.classList.remove('option-selected');
const radio = r.querySelector('.radio');
if (radio) {
radio.classList.remove('radio-selected');
radio.querySelector('.radio-dot').style.display = 'none';
}
const input = r.querySelector('.form-input-inline');
if (input) input.style.display = 'none';
});


row.classList.add('option-selected');
const radio = row.querySelector('.radio');
if (radio) {
radio.classList.add('radio-selected');
radio.querySelector('.radio-dot').style.display = 'block';
}


selections[selectionKey] = value;


if (value === 'other') {
const otherInput = document.getElementById('support-other-input');
if (otherInput) otherInput.style.display = 'block';
}


if (selectionKey === 'referred') {
const referrerBlock = document.getElementById('referrer-block');
const referrerInput = document.getElementById('referrer-name');
if (value === 'yes') {
referrerBlock.style.display = 'block';
referrerInput.required = true;
} else {
referrerBlock.style.display = 'none';
referrerInput.required = false;
referrerInput.value = '';
}
}
}


function handleInlineRadioClick(e, selectionKey) {
const row = e.target.closest('.inline-radio-option');
if (!row) return;
const value = row.dataset.value;
const container = row.parentElement;


container.querySelectorAll('.inline-radio-option').forEach(r => {
r.classList.remove('inline-radio-selected');
const radio = r.querySelector('.radio');
if (radio) {
radio.classList.remove('radio-selected');
const dot = radio.querySelector('.radio-dot');
if (dot) dot.style.display = 'none';
}
});


row.classList.add('inline-radio-selected');
const radio = row.querySelector('.radio');
if (radio) {
radio.classList.add('radio-selected');
const dot = radio.querySelector('.radio-dot');
if (dot) dot.style.display = 'block';
}


selections[selectionKey] = value;


if (selectionKey === 'referred') {
const referrerBlock = document.getElementById('referrer-block');
const referrerInput = document.getElementById('referrer-name');
if (value === 'yes') {
referrerBlock.style.display = 'block';
referrerInput.required = true;
} else {
referrerBlock.style.display = 'none';
referrerInput.required = false;
referrerInput.value = '';
}
}


if (selectionKey === 'memoriesBefore') {
const memBlock = document.getElementById('memories-explanation-block');
const memTextarea = document.getElementById('memories-explanation');
if (memBlock && memTextarea) {
if (value === 'yes') {
memBlock.style.display = 'block';
memTextarea.required = true;
} else {
memBlock.style.display = 'none';
memTextarea.required = false;
memTextarea.value = '';
}
}
}


if (selectionKey === 'trustedPerson') {
const detailsBlock = document.getElementById('trusted-person-details-block');
const personInput = document.getElementById('trusted-person');
const descInput = document.getElementById('trusted-person-description');
if (detailsBlock && personInput && descInput) {
if (value === 'yes') {
detailsBlock.style.display = 'block';
personInput.required = true;
descInput.required = true;
} else {
detailsBlock.style.display = 'none';
personInput.required = false;
descInput.required = false;
personInput.value = '';
descInput.value = '';
}
}
}
}


function handleCheckboxClick(e, selectionKey) {
const row = e.target.closest('.option-row');
if (!row) return;
const value = row.dataset.value;
const checkbox = row.querySelector('.checkbox');
const checkMark = row.querySelector('.checkbox-mark');


if (selections[selectionKey].has(value)) {
selections[selectionKey].delete(value);
row.classList.remove('option-selected');
checkbox.classList.remove('checkbox-selected');
checkMark.style.display = 'none';
} else {
selections[selectionKey].add(value);
row.classList.add('option-selected');
checkbox.classList.add('checkbox-selected');
checkMark.style.display = 'block';
}
}


function showErrors(errors) {
const container = document.getElementById('form-container');
if (!container) return;


const existing = document.getElementById('validation-error-card');
if (existing) existing.remove();


const errorMessage = document.createElement('div');
errorMessage.id = 'validation-error-card';
errorMessage.className = 'card';
errorMessage.style.backgroundColor = '#f0e1cc';
errorMessage.style.marginTop = '1rem';
errorMessage.innerHTML = `
<div style="color: #8b5e3c; font-weight: 500; margin-bottom: 0.5rem;">
Please complete all required fields:
</div>
<ul style="margin: 0; padding-left: 1.5rem;">
${errors.map(err => `<li>${err}</li>`).join('')}
</ul>
`;
container.appendChild(errorMessage);
errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
}


function getPageErrors(pageNum) {
const errors = [];


if (pageNum === 1) {
if (!selections.frameworkUnderstanding) {
errors.push('Please acknowledge your understanding of the framework and approach');
}
}


if (pageNum === 2) {
for (let i = 1; i <= 6; i++) {
if (!quizAnswers[`q${i}`]) {
errors.push(`Please answer question ${i} in the quiz`);
break;
}
}
}


if (pageNum === 3) {
for (let i = 7; i <= 12; i++) {
if (!quizAnswers[`q${i}`]) {
errors.push(`Please answer question ${i} in the quiz`);
break;
}
}
}


if (pageNum === 4) {
if (!selections.supportSeeking) {
errors.push('Please select what you are seeking support for');
}
if (selections.supportSeeking === 'other') {
const otherInput = document.getElementById('support-other-input');
if (!otherInput || !otherInput.value.trim()) {
errors.push('Please specify what you are seeking support for');
}
}


if (!selections.memoriesBefore) {
errors.push('Please indicate if you have memories from before this');
} else if (selections.memoriesBefore === 'yes') {
const memExplanation = document.getElementById('memories-explanation');
if (!memExplanation || !memExplanation.value.trim()) {
errors.push('Please explain your memories from before this');
}
}


if (!selections.trustedPerson) {
errors.push('Please indicate if you have a trusted person to confide in');
} else if (selections.trustedPerson === 'yes') {
const trustedPersonInput = document.getElementById('trusted-person');
const trustedPersonDesc = document.getElementById('trusted-person-description');
if (!trustedPersonInput || !trustedPersonInput.value.trim()) {
errors.push('Please tell me who your trusted person is');
}
if (!trustedPersonDesc || !trustedPersonDesc.value.trim()) {
errors.push('Please describe how your trusted person would describe you');
}
}


if (!selections.boundaries || (selections.boundaries instanceof Set && selections.boundaries.size === 0)) {
errors.push('Please select at least one boundary description');
}


const healedVision = document.getElementById('healed-self-vision');
if (!healedVision || !healedVision.value.trim()) {
errors.push('Please describe the healed version of yourself and your boundaries');
}

if (!selections.faultBeliefs) {
errors.push('Please select what you have been focused on');
}
}


if (pageNum === 5) {
if (!selections.privateSpace) {
errors.push('Please indicate if you agree to private space for sessions');
}
if (!selections.willingness) {
errors.push('Please indicate your willingness to explore patterns');
}
if (!selections.readiness) {
errors.push('Please indicate your readiness level');
}
if (!selections.commitment) {
errors.push('Please select your level of time commitment');
}
if (!selections.moneyCommunication) {
errors.push('Please select how you would like to address money');
}
if (!selections.affordabilityPreference) {
errors.push('Please select your affordability preference');
}
}


if (pageNum === 6) {
if (!selections.referred) {
errors.push('Please indicate if you were referred');
} else if (selections.referred === 'yes') {
const refName = document.getElementById('referrer-name');
if (!refName || !refName.value.trim()) {
errors.push('Please provide the name of who referred you');
}
}


const phone = document.getElementById('phone');
if (!phone || !phone.value.trim()) errors.push('Please enter your phone number');


const firstName = document.getElementById('first-name');
if (!firstName || !firstName.value.trim()) errors.push('Please enter your first name');


const lastName = document.getElementById('last-name');
if (!lastName || !lastName.value.trim()) errors.push('Please enter your last name');


const birthdate = document.getElementById('birthdate');
if (!birthdate || !birthdate.value.trim()) errors.push('Please enter your birthdate');


if (!selections.pronouns) {
errors.push('Please select your preferred pronouns');
}


const zip = document.getElementById('zip-code');
if (!zip || !zip.value.trim()) errors.push('Please enter your zip code');


const email = document.getElementById('email');
if (!email || !email.value.trim()) errors.push('Please enter your email address');
}


return errors;
}


function validateForm() {
const errors = [];
for (let pageNum = 1; pageNum <= totalPages; pageNum++) {
errors.push(...getPageErrors(pageNum));
}
return errors;
}


async function handleFormSubmit() {
const errors = validateForm();
if (errors.length > 0) {
showErrors(errors);
return;
}


if (currentRecordCount >= 999) {
const limitMessage = document.createElement('div');
limitMessage.className = 'card';
limitMessage.style.backgroundColor = '#f0e1cc';
limitMessage.style.marginTop = '1rem';
limitMessage.style.textAlign = 'center';
limitMessage.innerHTML = `
<div style="color: #8b5e3c; font-weight: 500;">
Maximum limit of 999 applications reached. Please contact the administrator.
</div>
`;
document.getElementById('form-container').appendChild(limitMessage);
return;
}


const submitBtn = document.getElementById('submit-btn');
const originalText = submitBtn.innerHTML;
submitBtn.disabled = true;
submitBtn.innerHTML = 'Submitting...';


const otherInput = document.getElementById('support-other-input');
const supportSeekingOther = selections.supportSeeking === 'other' && otherInput ? otherInput.value : '';


const quizResult = calculateQuizResult();


const applicationData = {
  id: Date.now().toString(),
  framework_understanding: selections.frameworkUnderstanding,
  quiz_result: quizResult,
  quiz_answers: JSON.stringify(quizAnswers),
  first_name: document.getElementById('first-name').value,
  last_name: document.getElementById('last-name').value,
  email: document.getElementById('email').value,
  phone: document.getElementById('phone').value,
  birthdate: document.getElementById('birthdate').value,
  pronouns: selections.pronouns,
  zip_code: document.getElementById('zip-code').value,
  referred: selections.referred,
  referrer_name: selections.referred === 'yes' ? document.getElementById('referrer-name').value : '',
  // üîª Finance / investment questions
  commitment_choice: selections.commitment,
  money_conversation_preference: selections.moneyCommunication,
  affordability_preference: selections.affordabilityPreference,
  // üîª Support + history
  support_seeking: selections.supportSeeking,
  support_seeking_other: supportSeekingOther,
  memories_before: selections.memoriesBefore,
  memories_explanation: document.getElementById('memories-explanation').value,
  trusted_person: document.getElementById('trusted-person').value,
  trusted_person_description: document.getElementById('trusted-person-description').value,
  boundaries: Array.from(selections.boundaries).join(', '),
  healed_self_vision: document.getElementById('healed-self-vision').value,
  fault_beliefs: selections.faultBeliefs || '',
  private_space_agreement: selections.privateSpace,
  willingness_explore: selections.willingness,
  readiness_level: selections.readiness,
  submitted_at: new Date().toISOString()
};

// ----------------------------------------------------
// Send application data to Google Sheets via Apps Script
// ----------------------------------------------------
fetch("https://script.google.com/macros/s/AKfycbxYdhYxcwdabNaJ46LTGvTavR0K6xyTSZCtoBPqGICkBa6kxOfmNo8rSEQS_LCrsppwqg/exec", {
  method: "POST",
  mode: "no-cors",
  headers: {
    // simple content type so the browser doesn't do a CORS preflight
    "Content-Type": "text/plain;charset=utf-8"
  },
  body: JSON.stringify(applicationData)
})
  .then(() => {
    console.log("Posted to Google Script (no-cors, response not readable).");
  })
  .catch(error => {
    console.error("Error posting to Google Script:", error);
  });

submitBtn.disabled = false;
submitBtn.innerHTML = originalText;


if (result && result.isOk) {
showSuccess(quizResult);
} else {
const errorMessage = document.createElement('div');
errorMessage.className = 'card';
errorMessage.style.backgroundColor = '#f0e1cc';
errorMessage.style.marginTop = '1rem';
errorMessage.style.textAlign = 'center';
errorMessage.innerHTML = `
<div style="color: #8b5e3c; font-weight: 500;">
There was an error submitting your application. Please try again.
</div>
`;
document.getElementById('form-container').appendChild(errorMessage);
}
}


function resetForm() {
document.querySelectorAll('input[type="text"], input[type="tel"], input[type="email"], input[type="date"], textarea')
.forEach(input => { input.value = ''; });


for (const key in selections) {
if (selections[key] instanceof Set) {
selections[key].clear();
} else {
selections[key] = null;
}
}
for (const key in quizAnswers) {
quizAnswers[key] = null;
}


document.querySelectorAll('.option-row, .inline-radio-option').forEach(row => {
row.classList.remove('option-selected', 'inline-radio-selected');
const radio = row.querySelector('.radio');
if (radio) {
radio.classList.remove('radio-selected');
const dot = radio.querySelector('.radio-dot');
if (dot) dot.style.display = 'none';
}
const checkbox = row.querySelector('.checkbox');
if (checkbox) {
checkbox.classList.remove('checkbox-selected');
const mark = checkbox.querySelector('.checkbox-mark');
if (mark) mark.style.display = 'none';
}
});


const referrerBlock = document.getElementById('referrer-block');
const referrerName = document.getElementById('referrer-name');
if (referrerBlock && referrerName) {
referrerBlock.style.display = 'none';
referrerName.required = false;
referrerName.value = '';
}


const memBlock = document.getElementById('memories-explanation-block');
const memTextarea = document.getElementById('memories-explanation');
if (memBlock && memTextarea) {
memBlock.style.display = 'none';
memTextarea.required = false;
memTextarea.value = '';
}


const trustedDetailsBlock = document.getElementById('trusted-person-details-block');
const trustedPersonInput = document.getElementById('trusted-person');
const trustedPersonDesc = document.getElementById('trusted-person-description');
if (trustedDetailsBlock && trustedPersonInput && trustedPersonDesc) {
trustedDetailsBlock.style.display = 'none';
trustedPersonInput.required = false;
trustedPersonDesc.required = false;
trustedPersonInput.value = '';
trustedPersonDesc.value = '';
}


document.getElementById('form-pages').style.display = 'block';
document.getElementById('success-container').style.display = 'none';


const existingError = document.getElementById('validation-error-card');
if (existingError) existingError.remove();


goToPage(1);
updateTopButtons();
}


const dataHandler = {
onDataChanged(data) {
currentRecordCount = data.length;
}
};


async function onConfigChange(config) {
document.getElementById('form-title').textContent = config.form_title || defaultConfig.form_title;


const subtitle = config.form_subtitle || defaultConfig.form_subtitle;
const subtitleLines = subtitle.split('\n');
const subtitleEl = document.getElementById('form-subtitle');
subtitleEl.innerHTML = subtitleLines.map(line => `<span class="subtitle-line">${line}</span>`).join('');


document.getElementById('submit-button-text').textContent =
config.submit_button_text || defaultConfig.submit_button_text;


const backgroundColor = config.background_color || defaultConfig.background_color;
const surfaceColor = config.surface_color || defaultConfig.surface_color;
const textColor = config.text_color || defaultConfig.text_color;
const primaryActionColor = config.primary_action_color || defaultConfig.primary_action_color;
const secondaryActionColor = config.secondary_action_color || defaultConfig.secondary_action_color;


document.body.style.backgroundColor = backgroundColor;
document.querySelector('.app-root').style.backgroundColor = backgroundColor;
document.querySelectorAll('.card').forEach(el => el.style.backgroundColor = surfaceColor);
document.querySelectorAll('.title, .question-text, .section-title').forEach(el => el.style.color = textColor);
document.querySelectorAll('.primary-button').forEach(el => {
el.style.backgroundColor = primaryActionColor;
el.style.borderColor = primaryActionColor;
});
document.querySelectorAll('.required, .section-title, .question-number').forEach(el => {
el.style.color = secondaryActionColor;
});
}


function updateTopButtons() {
const topPrev = document.getElementById('top-prev');
const topNext = document.getElementById('top-next');


if (topPrev) {
if (currentPage === 1) topPrev.classList.add('invisible');
else topPrev.classList.remove('invisible');
}
if (topNext) {
if (currentPage === totalPages) topNext.style.display = 'none';
else topNext.style.display = 'block';
}
}


async function init() {
const topPrev = document.getElementById('top-prev');
const topNext = document.getElementById('top-next');


if (topPrev) {
topPrev.onclick = function () {
if (currentPage > 1) {
goToPage(currentPage - 1);
updateTopButtons();
}
};
}
if (topNext) {
topNext.onclick = function () {
const pageErrors = getPageErrors(currentPage);
if (pageErrors.length > 0) {
showErrors(pageErrors);
return;
}
if (currentPage < totalPages) {
goToPage(currentPage + 1);
updateTopButtons();
}
};
}


for (let i = 1; i <= totalPages; i++) {
const nextBtn = document.getElementById(`next-${i}`);
const prevBtn = document.getElementById(`prev-${i}`);
if (nextBtn) {
nextBtn.onclick = (function (page) {
return function () {
const pageErrors = getPageErrors(page);
if (pageErrors.length > 0) {
showErrors(pageErrors);
return;
}
if (page < totalPages) {
goToPage(page + 1);
updateTopButtons();
}
};
})(i);
}
if (prevBtn) {
prevBtn.onclick = (function (page) {
return function () {
if (page > 1) {
goToPage(page - 1);
updateTopButtons();
}
};
})(i);
}
}


updateTopButtons();


const submitBtn = document.getElementById('submit-btn');
if (submitBtn) submitBtn.onclick = handleFormSubmit;


const resetBtn = document.getElementById('reset-btn');
if (resetBtn) resetBtn.onclick = resetForm;


const viewProfilesBtn = document.getElementById('view-profiles-btn');
if (viewProfilesBtn) viewProfilesBtn.onclick = showProfilesView;


const backToFormBtn = document.getElementById('back-to-form-btn');
if (backToFormBtn) backToFormBtn.onclick = hideProfilesView;


if (window.elementSdk) {
await window.elementSdk.init({
defaultConfig,
onConfigChange,
mapToCapabilities: (config) => ({
recolorables: [
{
get: () => config.background_color || defaultConfig.background_color,
set: (value) => {
window.elementSdk.config.background_color = value;
window.elementSdk.setConfig({ background_color: value });
}
},
{
get: () => config.surface_color || defaultConfig.surface_color,
set: (value) => {
window.elementSdk.config.surface_color = value;
window.elementSdk.setConfig({ surface_color: value });
}
},
{
get: () => config.text_color || defaultConfig.text_color,
set: (value) => {
window.elementSdk.config.text_color = value;
window.elementSdk.setConfig({ text_color: value });
}
},
{
get: () => config.primary_action_color || defaultConfig.primary_action_color,
set: (value) => {
window.elementSdk.config.primary_action_color = value;
window.elementSdk.setConfig({ primary_action_color: value });
}
},
{
get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
set: (value) => {
window.elementSdk.config.secondary_action_color = value;
window.elementSdk.setConfig({ secondary_action_color: value });
}
}
],
borderables: [],
fontEditable: undefined,
fontSizeable: undefined
}),
mapToEditPanelValues: (config) => new Map([
["form_title", config.form_title || defaultConfig.form_title],
["form_subtitle", config.form_subtitle || defaultConfig.form_subtitle],
["submit_button_text", config.submit_button_text || defaultConfig.submit_button_text]
])
});
}


if (window.dataSdk) {
const initResult = await window.dataSdk.init(dataHandler);
if (!initResult.isOk) {
console.error("Failed to initialize data SDK");
}
}


renderRadioOptions('support-seeking-options', formData.supportSeeking, 'supportSeeking');
renderInlineRadioOptions('memories-before-options', formData.memoriesBefore, 'memoriesBefore');
renderCheckboxOptions('boundaries-options', formData.boundaries, 'boundaries');
renderRadioOptions('fault-beliefs-options', formData.faultBeliefs, 'faultBeliefs');
renderInlineRadioOptions('private-space-options', formData.privateSpace, 'privateSpace');
renderRadioOptions('willingness-options', formData.willingness, 'willingness');
renderRadioOptions('readiness-options', formData.readiness, 'readiness');
renderRadioOptions('commitment-options', formData.commitment, 'commitment');
renderRadioOptions('money-communication-options', formData.moneyCommunication, 'moneyCommunication');
renderRadioOptions('affordability-options', formData.affordabilityPreference, 'affordabilityPreference');
renderInlineRadioOptions('referred-options', formData.referred, 'referred');
renderInlineRadioOptions('trusted-person-options', formData.trustedPerson, 'trustedPerson');
renderRadioOptions('pronouns-options', formData.pronouns, 'pronouns');
renderRadioOptions('framework-understanding-options', formData.frameworkUnderstanding, 'frameworkUnderstanding');


quizQuestions.forEach((q, index) => {
renderQuizQuestion(`quiz-q${index + 1}`, q);
});
}


if (document.readyState === 'loading') {
document.addEventListener('DOMContentLoaded', init);
} else {
init();
}
</script>


<!-- Cloudflare snippet (unchanged from your original) -->
<script>
(function(){
function c(){
var b=a.contentDocument||a.contentWindow.document;
if(b){
var d=b.createElement('script');
d.innerHTML="window.__CF$cv$params={r:'9a99c3d5d705afbc',t:'MTc2NTAwMjk0NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";
b.getElementsByTagName('head')[0].appendChild(d)
}
}
if(document.body){
var a=document.createElement('iframe');
a.height=1;
a.width=1;
a.style.position='absolute';
a.style.top=0;
a.style.left=0;
a.style.border='none';
a.style.visibility='hidden';
document.body.appendChild(a);
if('loading'!==document.readyState) c();
else if(window.addEventListener) document.addEventListener('DOMContentLoaded',c);
else {
var e=document.onreadystatechange||function(){};
document.onreadystatechange=function(b){
e(b);
'loading'!==document.readyState&&(document.onreadystatechange=e,c())
}
}
}
})();
</script>
</body>
</html>
