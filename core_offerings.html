<!doctype html>
<html lang="en" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Services</title>

    <script src="/_sdk/element_sdk.js"></script>
    <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      body {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        background-color: #eee3d3;
      }

      .service-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .service-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      }

      .cta-button {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .cta-button:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      }

      .cta-button:active {
        transform: scale(0.98);
      }
    </style>

    <style>@view-transition { navigation: auto; }</style>
  </head>

  <body class="h-full">
    <div id="app-container" class="w-full h-full overflow-auto">
      <div class="min-h-full py-16 px-6">
        <div class="max-w-6xl mx-auto">
          <!-- Header -->
          <div class="text-center mb-16">
            <h1 id="page-title" class="mb-4">Core Offerings</h1>
            <p id="page-subtitle" class="text-xl">
              Supporting capacity and steadiness through life's demands
            </p>
          </div>

          <!-- Services Grid -->
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
            <!-- Card 1 -->
            <div
              class="service-card rounded-2xl p-8"
              style="background-color: #ffffff; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);"
            >
              <h2 id="service-1-title" class="mb-3">
                <span class="mr-3">ü™û</span><span id="service-1-title-text">Self-Orientation (Getting to Know the Self)</span>
              </h2>
              <div id="service-1-description"></div>
            </div>

            <!-- Card 2 -->
            <div
              class="service-card rounded-2xl p-8"
              style="background-color: #ffffff; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);"
            >
              <h2 id="service-2-title" class="mb-3">
                <span class="mr-3">üí´</span><span id="service-2-title-text">Relationship Clarity &amp; Communication Orientation</span>
              </h2>
              <div id="service-2-description"></div>
            </div>

            <!-- Card 3 -->
            <div
              class="service-card rounded-2xl p-8"
              style="background-color: #ffffff; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);"
            >
              <h2 id="service-3-title" class="mb-3">
                <span class="mr-3">üß≠</span><span id="service-3-title-text">Preparation</span>
              </h2>
              <div id="service-3-description"></div>
            </div>

            <!-- Card 4 -->
            <div
              class="service-card rounded-2xl p-8"
              style="background-color: #ffffff; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);"
            >
              <h2 id="service-4-title" class="mb-3">
                <span class="mr-3">üå±</span><span id="service-4-title-text">Post-Traumatic Growth &amp; Integration</span>
              </h2>
              <div id="service-4-description"></div>
            </div>

            <!-- Card 5 -->
            <div
              class="service-card rounded-2xl p-8"
              style="background-color: #ffffff; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);"
            >
              <h2 id="service-5-title" class="mb-3">
                <span class="mr-3">üõ°Ô∏è</span><span id="service-5-title-text">Boundary &amp; Capacity Building</span>
              </h2>
              <div id="service-5-description"></div>
            </div>

            <!-- Card 6 -->
            <div
              class="service-card rounded-2xl p-8"
              style="background-color: #ffffff; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);"
            >
              <h2 id="service-6-title" class="mb-3">
                <span class="mr-3">üåä</span><span id="service-6-title-text">Transition &amp; Threshold Keeping</span>
              </h2>
              <div id="service-6-description"></div>
            </div>
          </div>

          <!-- CTA -->
          <div class="text-center">
            <!-- IMPORTANT:
                 This button navigates *inside the same popup/frame* (no new tab, no leaving the popup container). -->
            <button
              id="cta-button"
              type="button"
              class="cta-button rounded-full px-10 py-4 text-lg font-semibold inline-block"
              style="text-decoration: none;"
            >
              Begin Here
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      const BOOKING_URL = "https://tidycal.com/iamready/consult";

      const defaultConfig = {
        background_color: "#eee3d3",
        card_color: "#ffffff",
        text_color: "#404545",
        primary_action_color: "#c56c35",
        secondary_text_color: "#404545",
        font_family: "system-ui",
        font_size: 16,
        page_title: "Core Offerings",
        page_subtitle: "Supporting capacity and steadiness through life's demands",
        service_1_title: "Self-Orientation (Getting to Know the Self)",
        service_1_description:
          'Function: internal mapping and self-recognition. Scope: identity, inner signals, values, patterns, agency. This is not reinvention. It is familiarity. "Supporting relationship with the Self."',
        service_2_title: "Relationship Clarity & Communication Orientation",
        service_2_description:
          "Function: recognizing interaction patterns and regulation rhythms in connection. Scope: communication friction, attraction dynamics, pacing differences, relational stress. Method: I will teach you about learning styles as they relate interpersonally and clarify communication styles to enhance all relationships.",
        service_3_title: "Preparation",
        service_3_description:
          'Function: nervous system readiness for anticipated stress or intensity. Scope: upcoming events, thresholds, conversations, procedures, transitions. Time-bound. Forward-facing. Regulative. "Supporting steadiness before something demanding."',
        service_4_title: "Post-Traumatic Growth & Integration",
        service_4_description:
          'Function: stabilization, meaning-making after impact. Scope: trauma, shock, grief, rupture, or identity disruption. Supporting the nervous system in settling, organizing, and re-establishing internal continuity. "Supporting capacity after something overwhelming."',
        service_5_title: "Boundary & Capacity Building",
        service_5_description:
          'Function: strengthening limits, choice, and self-trust. Scope: over-giving, enmeshment, burnout, role strain. Boundaries framed as capacity management, not defense. "Supporting sustainable engagement with others."',
        service_6_title: "Transition & Threshold Keeping",
        service_6_description:
          'Function: support during endings and in-between states. Scope: role changes, life phases and uncertainty. Uncovering direction through stability. "Supporting presence during change."',
        cta_button_text: "Begin Here"
      };

      async function onConfigChange(config) {
        const baseFontStack = "system-ui, -apple-system, sans-serif";
        const customFont = config.font_family || defaultConfig.font_family;
        const baseSize = config.font_size || defaultConfig.font_size;

        // Background color
        const appContainer = document.getElementById("app-container");
        const htmlElement = document.documentElement;
        const bodyElement = document.body;

        const bg = config.background_color || defaultConfig.background_color;
        appContainer.style.backgroundColor = bg;
        htmlElement.style.backgroundColor = bg;
        bodyElement.style.backgroundColor = bg;

        // Page title
        const pageTitle = document.getElementById("page-title");
        pageTitle.style.color = config.text_color || defaultConfig.text_color;
        pageTitle.style.fontFamily = `${customFont}, ${baseFontStack}`;
        pageTitle.style.fontSize = `${baseSize * 2.5}px`;
        pageTitle.style.fontWeight = "700";
        pageTitle.textContent = config.page_title || defaultConfig.page_title;

        // Page subtitle
        const pageSubtitle = document.getElementById("page-subtitle");
        pageSubtitle.style.color = config.secondary_text_color || defaultConfig.secondary_text_color;
        pageSubtitle.style.fontFamily = `${customFont}, ${baseFontStack}`;
        pageSubtitle.style.fontSize = `${baseSize * 1.25}px`;
        pageSubtitle.textContent = config.page_subtitle || defaultConfig.page_subtitle;

        // Card styles
        const serviceCards = document.querySelectorAll(".service-card");
        serviceCards.forEach((card) => {
          card.style.backgroundColor = config.card_color || defaultConfig.card_color;
          card.style.boxShadow = "0 4px 12px rgba(0, 0, 0, 0.15)";
        });

        // Shared styles
        function styleTitle(titleEl) {
          titleEl.style.color = config.text_color || defaultConfig.text_color;
          titleEl.style.fontFamily = `${customFont}, ${baseFontStack}`;
          titleEl.style.fontSize = `${baseSize * 1.5}px`;
          titleEl.style.fontWeight = "600";
        }

        function styleDesc(descEl) {
          descEl.style.color = config.secondary_text_color || defaultConfig.secondary_text_color;
          descEl.style.fontFamily = `${customFont}, ${baseFontStack}`;
          descEl.style.fontSize = `${baseSize}px`;
          descEl.style.lineHeight = "1.6";
        }

        function formatDesc(raw, quoteText) {
          let html = raw
            .replace(/Function:/g, "<strong>Function:</strong>")
            .replace(/Scope:/g, "<br><br><strong>Scope:</strong>")
            .replace(/Method:/g, "<br><br><strong>Method:</strong>");

          if (quoteText) {
            const quoted = quoteText.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
            const re = new RegExp(`"${quoted}"`, "g");
            html = html.replace(
              re,
              `<br><br><div style="border-left: 3px solid ${
                config.text_color || defaultConfig.text_color
              }; padding-left: 12px; margin-top: 8px;"><em>"${quoteText}"</em></div>`
            );
          }

          return html;
        }

        // Service 1
        const service1Title = document.getElementById("service-1-title");
        const service1TitleText = document.getElementById("service-1-title-text");
        styleTitle(service1Title);
        service1TitleText.textContent = config.service_1_title || defaultConfig.service_1_title;

        const service1Desc = document.getElementById("service-1-description");
        styleDesc(service1Desc);
        const desc1Text = config.service_1_description || defaultConfig.service_1_description;
        service1Desc.innerHTML = formatDesc(desc1Text, "Supporting relationship with the Self.");

        // Service 2
        const service2Title = document.getElementById("service-2-title");
        const service2TitleText = document.getElementById("service-2-title-text");
        styleTitle(service2Title);
        service2TitleText.textContent = config.service_2_title || defaultConfig.service_2_title;

        const service2Desc = document.getElementById("service-2-description");
        styleDesc(service2Desc);
        const desc2Text = config.service_2_description || defaultConfig.service_2_description;
        service2Desc.innerHTML = formatDesc(desc2Text, null);

        // Service 3
        const service3Title = document.getElementById("service-3-title");
        const service3TitleText = document.getElementById("service-3-title-text");
        styleTitle(service3Title);
        service3TitleText.textContent = config.service_3_title || defaultConfig.service_3_title;

        const service3Desc = document.getElementById("service-3-description");
        styleDesc(service3Desc);
        const desc3Text = config.service_3_description || defaultConfig.service_3_description;
        service3Desc.innerHTML = formatDesc(desc3Text, "Supporting steadiness before something demanding.");

        // Service 4
        const service4Title = document.getElementById("service-4-title");
        const service4TitleText = document.getElementById("service-4-title-text");
        styleTitle(service4Title);
        service4TitleText.textContent = config.service_4_title || defaultConfig.service_4_title;

        const service4Desc = document.getElementById("service-4-description");
        styleDesc(service4Desc);
        const desc4Text = config.service_4_description || defaultConfig.service_4_description;
        service4Desc.innerHTML = formatDesc(desc4Text, "Supporting capacity after something overwhelming.");

        // Service 5
        const service5Title = document.getElementById("service-5-title");
        const service5TitleText = document.getElementById("service-5-title-text");
        styleTitle(service5Title);
        service5TitleText.textContent = config.service_5_title || defaultConfig.service_5_title;

        const service5Desc = document.getElementById("service-5-description");
        styleDesc(service5Desc);
        const desc5Text = config.service_5_description || defaultConfig.service_5_description;
        service5Desc.innerHTML = formatDesc(desc5Text, "Supporting sustainable engagement with others.");

        // Service 6
        const service6Title = document.getElementById("service-6-title");
        const service6TitleText = document.getElementById("service-6-title-text");
        styleTitle(service6Title);
        service6TitleText.textContent = config.service_6_title || defaultConfig.service_6_title;

        const service6Desc = document.getElementById("service-6-description");
        styleDesc(service6Desc);
        const desc6Text = config.service_6_description || defaultConfig.service_6_description;
        service6Desc.innerHTML = formatDesc(desc6Text, "Supporting presence during change.");

        // CTA button styling + text
        const ctaButton = document.getElementById("cta-button");
        ctaButton.style.backgroundColor = config.primary_action_color || defaultConfig.primary_action_color;
        ctaButton.style.color = config.background_color || defaultConfig.background_color;
        ctaButton.style.fontFamily = `${customFont}, ${baseFontStack}`;
        ctaButton.style.fontSize = `${baseSize * 1.125}px`;
        ctaButton.textContent = config.cta_button_text || defaultConfig.cta_button_text;
      }

      function mapToCapabilities(config) {
        return {
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (value) => {
                config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => config.card_color || defaultConfig.card_color,
              set: (value) => {
                config.card_color = value;
                window.elementSdk.setConfig({ card_color: value });
              }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => {
                config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            },
            {
              get: () => config.primary_action_color || defaultConfig.primary_action_color,
              set: (value) => {
                config.primary_action_color = value;
                window.elementSdk.setConfig({ primary_action_color: value });
              }
            },
            {
              get: () => config.secondary_text_color || defaultConfig.secondary_text_color,
              set: (value) => {
                config.secondary_text_color = value;
                window.elementSdk.setConfig({ secondary_text_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: {
            get: () => config.font_family || defaultConfig.font_family,
            set: (value) => {
              config.font_family = value;
              window.elementSdk.setConfig({ font_family: value });
            }
          },
          fontSizeable: {
            get: () => config.font_size || defaultConfig.font_size,
            set: (value) => {
              config.font_size = value;
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        };
      }

      function mapToEditPanelValues(config) {
        return new Map([
          ["page_title", config.page_title || defaultConfig.page_title],
          ["page_subtitle", config.page_subtitle || defaultConfig.page_subtitle],
          ["service_1_title", config.service_1_title || defaultConfig.service_1_title],
          ["service_1_description", config.service_1_description || defaultConfig.service_1_description],
          ["service_2_title", config.service_2_title || defaultConfig.service_2_title],
          ["service_2_description", config.service_2_description || defaultConfig.service_2_description],
          ["service_3_title", config.service_3_title || defaultConfig.service_3_title],
          ["service_3_description", config.service_3_description || defaultConfig.service_3_description],
          ["service_4_title", config.service_4_title || defaultConfig.service_4_title],
          ["service_4_description", config.service_4_description || defaultConfig.service_4_description],
          ["service_5_title", config.service_5_title || defaultConfig.service_5_title],
          ["service_5_description", config.service_5_description || defaultConfig.service_5_description],
          ["service_6_title", config.service_6_title || defaultConfig.service_6_title],
          ["service_6_description", config.service_6_description || defaultConfig.service_6_description],
          ["cta_button_text", config.cta_button_text || defaultConfig.cta_button_text]
        ]);
      }

      // Initialize display
      onConfigChange(defaultConfig);

      // Keep navigation INSIDE the same popup/frame
      (function bindCtaNavigation() {
        const btn = document.getElementById("cta-button");
        btn.addEventListener("click", () => {
          window.location.assign(BOOKING_URL);
        });
      })();

      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange,
          mapToCapabilities,
          mapToEditPanelValues
        });
      }
    </script>

    <script>
      (function () {
        function c() {
          var b = a.contentDocument || a.contentWindow.document;
          if (b) {
            var d = b.createElement("script");
            d.innerHTML =
              "window.__CF$cv$params={r:'9aeb0b637555675f',t:'MTc2NTg1NTIyMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";
            b.getElementsByTagName("head")[0].appendChild(d);
          }
        }
        if (document.body) {
          var a = document.createElement("iframe");
          a.height = 1;
          a.width = 1;
          a.style.position = "absolute";
          a.style.top = 0;
          a.style.left = 0;
          a.style.border = "none";
          a.style.visibility = "hidden";
          document.body.appendChild(a);
          if ("loading" !== document.readyState) c();
          else if (window.addEventListener) document.addEventListener("DOMContentLoaded", c);
          else {
            var e = document.onreadystatechange || function () {};
            document.onreadystatechange = function (b) {
              e(b);
              "loading" !== document.readyState && (document.onreadystatechange = e, c());
            };
          }
        }
      })();
    </script>
  </body>
</html>
